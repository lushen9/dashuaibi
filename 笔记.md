小狐狸教会我们什么：

### 图层：

​	图层排序
​	sorting layer
​	越在下面，越在前面
​	order layer  数字越大越在前2dobject -> sprite
​	拖拽到 spriteadd Component	
​	rigibody 2d     2d刚体
​	box collider 2d  碰撞体

​	tilemap collider 2d 地图碰撞格子

​	记得设置素材尺寸unit

### 	角色面向方向及跳跃：

​	scale 控制方向
​	float facedirection = Input.GetAxisRaw("Horizontal"); //直接获得  -1，0，1  获取整数
​	transform.localScale = new Vector3(facedirection, 1, 1);// 设置方向	

​	保证不同帧率正常
​	Update 函数改为 FixedUpdate() 函数
​	rb.velocity = new Vector2(horizontalMove * speed * Time.deltaTime, rb.velocity.y); //速度乘以一个	时间参数

 **float facedircetion = Input.GetAxisRaw("Horizontal");** 

 **if (facedircetion != 0)**
        **{**
            **transform.localScale = new Vector3(facedircetion, 1, 1);** 

 **}**

​	跳跃
​	Input.GetButtonDown("Jump")  // 获取跳跃按键
​	rb.velocity = new Vector2(rb.velocity.x, jumpforce * Time.deltaTime); //改变y轴方向
​	Rigidbody2D 中的GravityScale 参数同样可以调整跳跃力度

​	**注意可能存在掉帧情况，解决方案如下：**

 **void Update()**
    **{**
        **if (Input.GetButtonDown ("Jump"))**
        **{**
            **jumpPressed = true;**
        **}**
    **}**

 **if (jumpPressed)**
        **{**
            **rb.velocity = new Vector2(rb.velocity.x, jumpforce * Time.deltaTime);**
            **jumpPressed = false;** 
   **}**



### 角色移动：

​	edit - >projectsetting -> input 
​	Horizontial 横向  

​	add Component
​	new script

​	Assets -> Script ->  放代码	
​	script文件还要手动拖到对应Sprite里

​	移动时会触发Update() 函数
 	public Rigidbody2D rb; //定义刚体，手动在图形编辑器里拖进去
​	Input.GetAxis("Horizontal");// 获取横轴变更
​	 rb.velocity = new Vector2(horizontalMove * speed, rb.velocity.y); //设置对象位置

​	将刚体 **Constrants** 里的 z 勾选，让它不会飞起来

**float horizontalmove = Input.GetAxis("Horizontal");**

 **if (horizontalmove  != 0)**
        **{**
            **rb.velocity = new Vector2(horizontalmove * speed * Time.deltaTime , rb.velocity.y);**

**}**

### 键位设定

Edit -- Project Settings -- input

添加键位：选择任意键位右键 -- Duplicate Array Element -- 修改嘎

### 动画效果Animation:

在存放动画的文件夹内新建一个动画控制器，在面板添加**Animator**（不是Animation!）,将控制器拖拽至动画存在的图层内，再打开Animation新建动画。

添加文件夹   create AnimationController
window -> Animation -> Animation 打开动画面板
Smaples 设置动画速率

window -> Animation -> Animator

（settings里面记得将动画延迟秒数取消Transition Duration 设置成 0）
parameters 设置变化参数
去掉  Has Exit Time（退出动画）！

循环播放在animation里勾选loop time

将Player Animation  加到 Player
编辑变化代码
**public Animator anim;**
**anim.SetFloat("running", Mathf.Abs(facedirection));**

**在一个对象a里使用另一个对象b的动画效果**：

在a的代码中将b创建成“类”，然后就能在a中调用b的动画效果了

例如：frog frog = collision.gameObject.GetComponent<frog>();

### 镜头控制：

​	1.添加CameraController控制镜头

​	2.填加Cinemachine控制镜头
​	添加插件 window->PackageManager->Cinemachine
​	对背景添加 Polygon Colider2d     勾选isTriger
​	Cinemachine Confiner  的Bounding Shape 2D填入 背景Polygon Collider2D(直接拖拽)

​	Lens-> Orthographic Size 镜头大小  

​	body 调整镜头位置，人物固定显示位置等（在game窗口显示）

###  添加UI：

​	先创建UI，编写代码时先在最上面编辑调用UI（using）

​	 **public Text CherryNum;**

​	**CherryNum.text = Cherry.ToString();**

**碰撞器的调用：**

首先你的操作对象要有两个碰撞器，然后定义一个新的公开的碰撞器，选择调用你要调节的碰撞器

例如：定义一个discoll,       discoll.enabled = true/false       //enabled是获取调用的这个参数是否被取用

判断对象头顶是否有特定图层：

if  (Physics2D.OverlapCircle(函数名，去官网自己看))(1.position ，范围 ，图层类型){ }

先在判断对象内添加附件1(标记头顶)，再定义一个transform，将头顶附件1赋值给新定义变量。

（注意以上代码的调用条件是当头顶**没有！**相应图层才调用）

##### 掉落重启SceneManagement

1.设置边缘（1）新建一个3D项目cute......

（2）新建一个空白项目并创建一个新的碰撞器（按住alt键以中心向两侧拉开）并且设置为触发器

2.游戏重置

（1.）调用库unityEngine.**SceneManagement;**

​			SceneManager.函数名（）；//21.  7:28

#### 按键传送地图：

头文件加using UnityEngine.**SceneManagement**;

updatel里面

if(Input.GetKeyDown(KeyCode.E)

{
SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex+1);
}

GetActiveScene()：加载到场景

buildlndex+1：当前场景编号+1

二段跳：

先生成变量（int型）然后一顿输出嘎嘎嘎（注意大小写）

  void newJump()
    {
        if (isground)
        {
            extraJump = 1;
        }
        if (Input.GetButtonDown("Jump") && extraJump > 0)
        {
            rb.velocity = Vector2.up * jumpforce;

​			//vector2.up相当于一个变量，值为(0,1)，如果up换成down就是（0，-1），表示只有y轴有移动 
​            extraJump--;
​            anim.SetBool("jumping", true);
​        }
​        if(Input.GetButtonDown("Jump") && extraJump == 0 && isground)
​        {
​            rb.velocity = Vector2.up * jumpforce;
​            anim.SetBool("jumping", true);
​        } 
​    }

单向平台：

组件：**platform Effector 2D**

